{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./build/index.js","webpack:///./demo/src/index.ts","webpack:///(webpack)/buildin/global.js"],"names":["mainEl","document","getElementById","intersectionEl","viewportEl","boxEls","Array","from","querySelectorAll","window","localStorage","debug","addEventListener","update","forEach","el","start","offset","Point","curr","isActive","event","x","clientX","y","clientY","target","preventDefault","style","transform","updateViewport","updateMain","updateBoxes","updateIntersection","rect","Rect","fromViewport","fullRect","overflow","querySelector","innerHTML","parseNum","top","right","bottom","left","width","height","childRect","reference","refRect","intersectRect","intersecting","classList","add","remove","val","Math","round"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./demo/src/index.ts\");\n","!function(t,e){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)(\"object\"==typeof exports?exports:t)[n]=r[n]}}(global,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=3)}([function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(e){if(void 0===e&&(e=[0,0]),!t.isValid(e))throw new Error(\"Invalid parameters passed to constructor\");e instanceof Array?(this.x=e[0],this.y=e[1]):(this.x=e.x,this.y=e.y)}return t.isValid=function(t){return t instanceof Array?2===t.length&&(\"number\"==typeof t[0]&&\"number\"==typeof t[1]):\"object\"==typeof t&&(\"number\"==typeof t.x&&\"number\"==typeof t.y)},t.prototype.clone=function(e){return void 0===e&&(e={}),new t({x:\"number\"==typeof e.x?e.x:this.x,y:\"number\"==typeof e.y?e.y:this.y})},t.prototype.add=function(e){return new t({x:this.x+e.x,y:this.y+e.y})},t.prototype.subtract=function(e){return new t({x:this.x-e.x,y:this.y-e.y})},t.prototype.multiply=function(e){return new t({x:this.x*e.x,y:this.y*e.y})},t.prototype.divideBy=function(e){return new t({x:this.x/e.x,y:this.y/e.y})},t.prototype.invert=function(){return new t({x:this.y,y:this.x})},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.toJSON=function(){return Object.freeze({x:this.x,y:this.y})},t.prototype.toArray=function(){return[this.x,this.y]},t}();e.default=n},function(t,e,r){\"use strict\";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});var i=r(4),o=n(r(0)),h=n(r(2)),f=function(){function t(e){if(void 0===e&&(e={x:0,y:0,width:0,height:0}),!t.isValid(e))throw new Error(\"Invalid parameters passed to constructor\");this.left=e.x,this.top=e.y,this.width=e.width,this.height=e.height}return t.isValid=function(t){return\"number\"==typeof t.x&&(\"number\"==typeof t.y&&(\"number\"==typeof t.width&&\"number\"==typeof t.height))},t.from=function(e,r){void 0===r&&(r={});try{if(null==e)return null;if(e instanceof t)return e;if(i.typeIsWindow(e))return t.from(document.documentElement||document.body.parentNode||document.body,r);for(var n=e instanceof Array?e:[e],o=n.length,h=r.reference||window,f=t.fromViewport(),u=i.typeIsWindow(h)?f:t.from(r.reference),d=null,l=0;l<o;l++){var c=n[l],s=c.getBoundingClientRect(),a=new t({x:s.left+f.left-(i.typeIsWindow(h)?0:u.left),y:s.top+f.top-(i.typeIsWindow(h)?0:u.top),width:r.overflow?c.scrollWidth:s.width,height:r.overflow?c.scrollHeight:s.height});d=d?d.concat(a):a}return d}catch(t){return console.error(t),null}},t.fromViewport=function(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return new t({x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,width:e,height:r})},t.fromChildrenOf=function(e,r){return void 0===r&&(r={}),e?i.typeIsWindow(e)?t.from(Array.from(document.body.children)):t.from(Array.from(e.children),{overflow:r.overflow,reference:r.reference||e}):null},t.fromChildrenBefore=function(e,r,n){if(void 0===n&&(n={}),!r)return null;var i=Array.from(r.children);return e<=0?new t:e>=i.length?t.from(i,{reference:n.reference,overflow:!1}):(i.splice(e),t.from(i,{reference:n.reference||r,overflow:!1}))},t.fromChildrenAfter=function(e,r,n){if(void 0===n&&(n={}),!r)return null;var i=Array.from(r.children);return e<0?t.from(i,{reference:n.reference,overflow:!1}):e>=i.length-1?new t:(i.splice(0,i.length-e-1),t.from(i,{reference:n.reference||r,overflow:!1}))},t.fromChildAt=function(e,r,n){if(void 0===n&&(n={}),!r)return null;var i=r.children[e];return t.from(i,{overflow:n.overflow,reference:n.reference||r})},t.fromPointAndSize=function(e,r){return e instanceof o.default||(e=new o.default(e)),r instanceof h.default||(r=new h.default(r)),new t({x:e.x,y:e.y,width:r.width,height:r.height})},t.intersecting=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{for(var n=e.length,i={},o=null,h=null,f=0;f<n;f++){if(o||(o=t.from(e[f])),0===f&&f+1===n)h=t.fromViewport();else{if(!(f+1<n))break;h=t.from(e[f+1])}i.width=Math.max(0,Math.min(o.right,h.right)-Math.max(o.left,h.left)),i.height=Math.max(0,Math.min(o.bottom,h.bottom)-Math.max(o.top,h.top)),i.y=Math.max(o.top,h.top),i.x=Math.max(o.left,h.left),i.width*i.height==0&&(i.width=0,i.height=0,i.y=NaN,i.x=NaN),o=new t(i)}return new t(i)}catch(t){return console.error(t),null}},Object.defineProperty(t.prototype,\"center\",{get:function(){return new o.default({x:(this.right-this.left)/2+this.left,y:(this.bottom-this.top)/2+this.top})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"size\",{get:function(){return new h.default({width:this.width,height:this.height})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"right\",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"bottom\",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({x:\"number\"==typeof e.x?e.x:this.left,y:\"number\"==typeof e.y?e.y:this.top,width:\"number\"==typeof e.width?e.width:this.width,height:\"number\"==typeof e.height?e.height:this.height})},t.prototype.concat=function(e){return new t({x:Math.min(this.left,e.left),y:Math.min(this.top,e.top),width:Math.max(this.right,e.right)-Math.min(this.left,e.left),height:Math.max(this.bottom,e.bottom)-Math.min(this.top,e.top)})},t.prototype.invert=function(){return new t({x:this.left,y:this.top,width:this.height,height:this.width})},t.prototype.equals=function(t){return this.top===t.top&&(this.right===t.right&&(this.bottom===t.bottom&&this.left===t.left))},t.prototype.toJSON=function(){return Object.freeze({top:this.top,right:this.right,bottom:this.bottom,left:this.left,width:this.width,height:this.height})},t}();e.default=f},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(e){if(void 0===e&&(e=[0,0]),!t.isValid(e))throw new Error(\"Invalid parameters passed to constructor\");e instanceof Array?(this.width=e[0],this.height=e[1]):(this.width=e.width,this.height=e.height)}return t.isValid=function(t){return t instanceof Array?2===t.length&&(\"number\"==typeof t[0]&&\"number\"==typeof t[1]):\"object\"==typeof t&&(\"number\"==typeof t.width&&\"number\"==typeof t.height)},t.prototype.clone=function(e){return void 0===e&&(e={}),new t({width:\"number\"==typeof e.width?e.width:this.width,height:\"number\"==typeof e.height?e.height:this.height})},t.prototype.add=function(e){return new t({width:this.width+e.width,height:this.height+e.height})},t.prototype.subtract=function(e){return new t({width:this.width-e.width,height:this.height-e.height})},t.prototype.multiply=function(e){return new t({width:this.width*e.width,height:this.height*e.height})},t.prototype.divideBy=function(e){return new t({width:this.width/e.width,height:this.height/e.height})},t.prototype.invert=function(){return new t({width:this.height,height:this.width})},t.prototype.equals=function(t){return this.width===t.width&&this.height===t.height},t.prototype.toJSON=function(){return Object.freeze({width:this.width,height:this.height})},t.prototype.toArray=function(){return[this.width,this.height]},t}();e.default=n},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(0);e.Point=n.default;var i=r(1);e.Rect=i.default;var o=r(2);e.Size=o.default;var h=r(5);e.hitTest=h.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.typeIsWindow=function(t){return t===window}},function(t,e,r){\"use strict\";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],h=0,f=o.length;h<f;h++,i++)n[i]=o[h];return n},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});var o=i(r(0)),h=i(r(1));e.default=function(t,e){try{var r=o.default.isValid(t)&&new o.default(t),i=o.default.isValid(e)&&new o.default(e);if(r&&!i){for(var f=(s=e instanceof Array?e:[e]).length,u=0;u<f;u++){var d=h.default.from(s[u]),l=r.x>=d.left&&r.x<=d.right,c=r.y>=d.top&&r.y<=d.bottom;if(l&&c)return!0}return!1}if(!r&&i){for(f=(s=t instanceof Array?t:[t]).length,u=0;u<f;u++){d=h.default.from(s[u]),l=i.x>=d.left&&i.x<=d.right,c=i.y>=d.top&&i.y<=d.bottom;if(l&&c)return!0}return!1}if(r&&i)return r.equals(i);var s=n(t instanceof Array?t:[t],e instanceof Array?e:[e]),a=h.default.intersecting.apply(null,s);return a.width*a.height!=0}catch(t){return console.error(t),!1}}}])}));\n//# sourceMappingURL=index.js.map","/**\n * @file This is a very dumb demo. It needs to be revised, but for now, it's\n *       just a quick way during development to test the API.\n */\n\nimport { Point, Rect } from '../../build';\n\nconst mainEl = document.getElementById('main');\nconst intersectionEl = document.getElementById('intersection');\nconst viewportEl = document.getElementById('viewport');\nconst boxEls = Array.from(document.querySelectorAll('#main .box'));\n\nwindow.localStorage.debug = 'spase*';\nwindow.addEventListener('resize', () => update());\nwindow.addEventListener('scroll', () => update());\n\nboxEls.forEach(el => {\n  let start: Point;\n  let offset = new Point();\n  let curr: Point;\n  let isActive = false;\n\n  el.addEventListener('mousedown', event => {\n    start = new Point({\n      x: (event as MouseEvent).clientX - offset.x,\n      y: (event as MouseEvent).clientY - offset.y,\n    });\n\n    if (event.target === el) isActive = true;\n\n    update();\n  });\n\n  window.addEventListener('mousemove', event => {\n    if (!isActive) return;\n\n    event.preventDefault();\n\n    curr = new Point({\n      x: (event as MouseEvent).clientX - start.x,\n      y: (event as MouseEvent).clientY - start.y,\n    });\n\n    offset = curr;\n\n    (el as HTMLElement).style.transform = `translate3d(${curr.x}px, ${curr.y}px, 0)`;\n\n    update();\n  });\n\n  el.addEventListener('mouseup', event => {\n    start = curr;\n    isActive = false;\n\n    update();\n  });\n});\n\nfunction update() {\n  updateViewport();\n  updateMain();\n  updateBoxes();\n  updateIntersection();\n}\n\nfunction updateViewport() {\n  const rect = Rect.fromViewport();\n  const fullRect = Rect.from(window, { overflow: true });\n\n  viewportEl!.querySelector('.top')!.innerHTML = `${parseNum(rect.top)}`;\n  viewportEl!.querySelector('.right')!.innerHTML = `${parseNum(rect.right)}`;\n  viewportEl!.querySelector('.bottom')!.innerHTML = `${parseNum(rect.bottom)}`;\n  viewportEl!.querySelector('.left')!.innerHTML = `${parseNum(rect.left)}`;\n  viewportEl!.querySelector('.size')!.innerHTML = `${parseNum(rect.width)}x${parseNum(rect.height)}<br>${parseNum(fullRect!.width)}x${parseNum(fullRect!.height)}`;\n}\n\nfunction updateMain() {\n  const rect = Rect.from(mainEl);\n  const childRect = Rect.from(boxEls, { reference: mainEl });\n\n  mainEl!.querySelector('.top')!.innerHTML = `${parseNum(rect!.top)}<br>(${parseNum(childRect!.top)})`;\n  mainEl!.querySelector('.right')!.innerHTML = `${parseNum(rect!.right)}<br>(${parseNum(childRect!.right)})`;\n  mainEl!.querySelector('.bottom')!.innerHTML = `${parseNum(rect!.bottom)}<br>(${parseNum(childRect!.bottom)})`;\n  mainEl!.querySelector('.left')!.innerHTML = `${parseNum(rect!.left)}<br>(${parseNum(childRect!.left)})`;\n  mainEl!.querySelector('.size')!.innerHTML = `${parseNum(rect!.width)}x${parseNum(rect!.height)}<br>(${parseNum(childRect!.width)}x${parseNum(childRect!.height)})`;\n}\n\nfunction updateBoxes() {\n  boxEls.forEach(el => {\n    const rect = Rect.from(el!);\n    const refRect = Rect.from(el!, { reference: mainEl });\n    const fullRect = Rect.from(el!, { overflow: true });\n    const intersectRect = Rect.intersecting(el);\n\n    el.querySelector('.top')!.innerHTML = `G:${parseNum(rect!.top)}<br>L:${parseNum(refRect!.top)}<br>V:${parseNum(intersectRect!.top)}`;\n    el.querySelector('.right')!.innerHTML = `G:${parseNum(rect!.right)}<br>L:${parseNum(refRect!.right)}<br>V:${parseNum(intersectRect!.right)}`;\n    el.querySelector('.bottom')!.innerHTML = `G:${parseNum(rect!.bottom)}<br>L:${parseNum(refRect!.bottom)}<br>V:${parseNum(intersectRect!.bottom)}`;\n    el.querySelector('.left')!.innerHTML = `G:${parseNum(rect!.left)}<br>L:${parseNum(refRect!.left)}<br>V:${parseNum(intersectRect!.left)}`;\n    el.querySelector('.size')!.innerHTML = `G:${parseNum(rect!.width)}x${parseNum(rect!.height)}<br>L:${parseNum(fullRect!.width)}x${parseNum(fullRect!.height)}<br>V:${parseNum(intersectRect!.width)}x${parseNum(intersectRect!.height)}`;\n  });\n}\n\nfunction updateIntersection() {\n  const rect = Rect.intersecting(...boxEls);\n\n  if (rect!.width * rect!.height > 0) {\n    intersectionEl!.classList.add('active');\n  }\n  else {\n    intersectionEl!.classList.remove('active');\n  }\n\n  intersectionEl!.querySelector('.top')!.innerHTML = `${parseNum(rect!.top)}`;\n  intersectionEl!.querySelector('.right')!.innerHTML = `${parseNum(rect!.right)}`;\n  intersectionEl!.querySelector('.bottom')!.innerHTML = `${parseNum(rect!.bottom)}`;\n  intersectionEl!.querySelector('.left')!.innerHTML = `${parseNum(rect!.left)}`;\n  intersectionEl!.querySelector('.size')!.innerHTML = `INTERSECTING<br>${parseNum(rect!.width)}x${parseNum(rect!.height)}`;\n}\n\nfunction parseNum(val: number) {\n  return Math.round(val * 100) / 100;\n}\n\nupdate();\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}